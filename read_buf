#include <stdlib.h>
#include <stdio.h>

#define BUFFER_SIZE 1024

char *lsh_read_line(void)
{
    char *buffer = malloc(sizeof(char) * BUFFER_SIZE);
    if (!buffer) {
        perror("malloc failed");
        exit(EXIT_FAILURE);
    }

    if (fgets(buffer, BUFFER_SIZE, stdin) == NULL) {
        if (feof(stdin)) {
            exit(EXIT_SUCCESS);  // We received an EOF
        } else {
            perror("fgets failed");
            exit(EXIT_FAILURE);
        }
    }

    return buffer;
}
